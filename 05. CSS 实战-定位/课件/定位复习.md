# 定位复习



大家在前面已经学习过定位了，这里我们来对定位进行一个复习。

首先，定位是针对某一个元素来讲的，把这个元素定位到什么位置。

目前在 *CSS* 中，有 *5* 种定位方案，分别是：

- *static* 静态定位
- *relative* 相对定位
- *absolute* 绝对定位
- *fixed* 固定定位
- *sticky* 粘性定位（*CSS3* 新增知识）



这里我们主要复习一下前面 *4* 种定位方式。



### *static* 静态定位

所谓静态定位，就是我们的标准流。

在标准流里面，块级元素独占一行，行内元素共享一行。静态定位是 *HTML* 元素的默认值，静态定位的元素不会受到 *top，bottom，left，right* 的影响。



### *relative* 相对定位

所谓相对定位，就是相对自己原来的位置进行定位。相对定位的最大特点就是**不脱离标准流**，相对于自己原来的位置上进行一定的偏移。

来看一个示例：

```html
<div class="one">one</div>
<div class="two">two</div>
<div class="three">three</div>
```

```css
*{
  margin: 0;padding: 0;
}
div{
  width: 100px;
  height: 100px;
  outline: 1px solid;
  line-height: 100px;
  text-align: center;
}
.two{
  position: relative;
  left: 50px;
  top: 50px;
}
```

效果如下：

<img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2021-09-16-022649.png" alt="image-20210916102648561" style="zoom:50%;" />

可以看到，我们对 *two* 这个盒子设置了 *left* 值为 *50px*，*top* 值为 *50px*，而由于是相对这个位置进行偏移，所以 *two* 这个盒子向右下进行了移动。

使用相对定位的作用主要有两个：

- 微调元素
- 做绝对定位的参考，子绝父相



### *absolute* 绝对定位

所谓绝对定位，就是相对于**离自己最近的，并且定了位的元素进行偏移**。使用了绝对定位后的盒子，会脱离标准流，设置的 *margin* 也会失效。

下面是一个绝对定位的示例：

```html
<div class="one">one</div>
<div class="two">two</div>
<div class="three">three</div>
```

```css
*{
  margin: 0;padding: 0;
}
div{
  width: 100px;
  height: 100px;
  outline: 1px solid;
  line-height: 100px;
  text-align: center;
}
.two{
  position: absolute;
  left: 50px;
  top: 50px;
}
```

效果如下：



<img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2021-11-16-030657.png" alt="image-20210916102923743" style="zoom:50%;" />



在浏览器中可以看到，第 *3* 个 *div* 往上面移动了，从而证明了绝对定位是脱离标准流的。

绝对定位后的盒子，其 *display* 属性会变为 *block*，例如：

```html
<a href="#">百度一下</a>
```

```css
*{
  margin: 0;padding: 0;
}
a{
  outline: 1px solid;
  width: 100px;
  height: 100px;
  position: absolute;
  top: 50px;
  left: 50px;
}
```

在浏览器中的浏览效果如下：原本不能设置宽高的行内元素，在进行了绝对定位以后，*display* 属性变为了 *block*，所以可以设置宽高了。



<img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2021-11-16-030700.png" alt="image-20210916103159181" style="zoom:50%;" />



这里要重点强调一下绝对定位的参考点问题。默认情况下，绝对定位的参考点，如果用 *top* 来进行描述，那么定位参考点就是页面的左上角，而不是浏览器的左上角，如下图：



<img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2021-11-16-030659.png" alt="image-20210916103254157" style="zoom:50%;" />

如果是使用 *bottom* 来进行描述，那么就是浏览器首屏窗口尺寸，对应的页面左下角，如下图：



<img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2021-11-16-30703.png" alt="image-20210916103329049" style="zoom:50%;" />

下面是一道爱立信 *2014* 年的校园春招题目，该题目就是考察关于绝对定位默认参考点的相关知识，如下：



<img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2021-11-16-030702.png" alt="image-20210916103403155" style="zoom: 67%;" />

该题目的答案如下：



<img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2021-11-16-30660.png" alt="image-20210916103442461" style="zoom:67%;" />



上面介绍的是绝对定位里参考点的默认情况，但是这种情况一般使用得非常的少。更多的则是使用接下来我们将要介绍的参照标准。

前面我们在介绍相对定位的时候，有提到子绝父相这个名字。事实上，当我们对一个元素设置绝对定位的时候，往往会将它的父级元素设置为相对定位。

这样的好处在于该元素的父级元素没有脱离标准流，该元素将会以这个相对定位了的父元素作为参考点，在父元素的范围内进行移动，方便我们对元素的位置进行掌控。如下图：



<img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2021-11-16-030701.png" alt="image-20210916103531326" style="zoom: 67%;" />

在该图中，容器盒子设置为相对定位，红色盒子为绝对定位。红色盒子将无视父元素的 *padding* 区域，以父元素的 *border* **内侧**作为自己定位的参考点。

需要大家记住的是当父级元素出现有定位时，绝对定位的参考点永远都是**离自己最近的，并且定了位的祖先元素的左上角**，下面我们来举例子进行说明，如下：

```html
<div class="one">
  <div class="two">
    <div class="three"></div>
  </div>
</div>
```

```css
*{
  margin: 0;padding: 0;
}
.one{
  width: 200px;
  height: 200px;
  outline: 1px solid;
  position: absolute;
  top: 100px;
  left: 100px;
}
.two{
  width: 100px;
  height: 100px;
  outline: 1px solid red;
  position: absolute;
  top: 50px;
  left: 50px;
}
.three{
  width: 50px;
  height: 50px;
  background-color: pink;
  position: absolute;
  top: 0;
  left: 0;
}
```

在浏览器中的浏览效果如下：这里 *three* 盒子就是以 *two* 盒子的左上角作为的参考点

<img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2021-11-16-030703.png" alt="image-20210916103730739" style="zoom:50%;" />

如果我们对代码稍作修改，取消 *two* 盒子的定位，那么 *three* 盒子就会以 *one* 盒子的左上角来作为参考点，如下：

```css
.two{
  width: 100px;
  height: 100px;
  outline: 1px solid red;
  margin: 50px 0 0 50px; /* 使用margin来让该盒子进行一些偏离 */      
}
```

在浏览器中的浏览效果如下：

<img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2021-11-16-030658.png" alt="image-20210916103916507" style="zoom:50%;" />



### *fixed* 固定定位



所谓固定定位，可以看作是一种特殊的绝对定位，所以自然而然固定定位也是会脱离标准流的。

固定定位的特点是相对于浏览器窗口进行定位的。

换句话说，对一个盒子进行固定定位以后，无论页面如何滚动，这个盒子的显示位置都是不会变化的。

固定定位在 *PC* 端中经常用于显示在页面中位置固定不变的页面 *header*，以及移动端中位置固定不变的 *header* 和 *footer*。还有就是页面两侧的广告。



## 面试题



- 怎么让一个 *div* 水平垂直居中

要让一个 *div* 盒子水平垂直居中，方式多种多样，在后面的《笔面试题》部分会介绍各种实现方式。

那么这里我们主要看一下通过定位来实现的方式

```html
<div class="container">
  <div class="item"></div>
</div>
```

```css
.container{
  width: 500px;
  height: 300px;
  background-color: pink;
  position: relative;
}
.item{
  width: 100px;
  height: 100px;
  background-color: skyblue;
  position: absolute;
  left: 50%;
  top: 50%;
  margin-left: -50px;
  margin-top: -50px;
}
```



------



-*EOF*-

